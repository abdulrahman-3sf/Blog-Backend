<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>Blog API â€“ Swagger UI</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <!-- Swagger UI CSS -->
    <link rel="stylesheet" href="https://unpkg.com/swagger-ui-dist@5/swagger-ui.css" />
    <style>
      body { margin:0; background:#0b0e14; }
      .topbar { display:none; }
      .swagger-ui .scheme-container, .swagger-ui .information-container { background:#0b0e14; }
    </style>
  </head>
  <body>
    <div id="swagger"></div>

    <!-- Swagger UI JS -->
    <script src="https://unpkg.com/swagger-ui-dist@5/swagger-ui-bundle.js"></script>
    <script>
      // ðŸ‘‰ Point this to your live API spec (Nest exposes it at /docs-json)
      const SPEC_URL = './openapi.json'; 
      // e.g., 'https://api.example.com/docs-json' or 'https://your-app.onrender.com/docs-json'

      window.ui = SwaggerUIBundle({
        dom_id: '#swagger',
        url: SPEC_URL,
        deepLinking: true,
        persistAuthorization: true,
        tryItOutEnabled: true,

        // This makes Swagger UI send cookies (refresh_token) cross-site.
        // Your API must have CORS { credentials: true } and cookies must be SameSite=None; Secure.
        requestInterceptor: (req) => {
          req.credentials = 'include';
          return req;
        },
      });
    </script>
  </body>
</html>
